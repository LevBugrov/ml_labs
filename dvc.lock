schema: '2.0'
stages:
  make_dataset:
    cmd: python src/data/make_dataset.py data/raw/train.csv data/interim/train.pkl
      data/interim/target.pkl data/interim/train_val.pkl data/interim/target_val.pkl
    deps:
    - path: data/raw/train.csv
      md5: 88f8b56af68bf8c7cf3fda9ae4ff02a8
      size: 400268
    - path: src/data/make_dataset.py
      md5: fda9e4dde33bc813e36d8d89291d89a2
      size: 2825
    outs:
    - path: data/interim/
      md5: 431947dc71d3f77187b6cec9c4c39ab8.dir
      size: 239631
      nfiles: 4
  features:
    cmd: python src/features/build_features.py data/interim/train.pkl data/interim/train_val.pkl
      data/processed/train.pkl data/processed/train_val.pkl
    deps:
    - path: data/interim/target.pkl
      md5: 50e3c7c1bc1a90c06ccc2fe90526859d
      size: 16924
    - path: data/interim/train.pkl
      md5: 735bb5f4f7b4f2c3e2a1daa378f506e3
      size: 173091
    - path: data/interim/train_val.pkl
      md5: 8b6fe2af0911ea9659f858518b9ba729
      size: 44727
    - path: src/features/build_features.py
      md5: b1817d9dfbe0eac3b4d3002b3d019d3f
      size: 1637
    outs:
    - path: data/processed
      md5: 19fc45c0f79a4663c2df45714a9f12ec.dir
      size: 346182
      nfiles: 2
  train_models:
    cmd: python src/models/train_model.py data/processed/train.pkl data/interim/target.pkl
      models
    deps:
    - path: data/interim/target.pkl
      md5: 50e3c7c1bc1a90c06ccc2fe90526859d
      size: 16924
    - path: data/processed/train.pkl
      md5: 735bb5f4f7b4f2c3e2a1daa378f506e3
      size: 173091
    - path: src/models/train_model.py
      md5: d6b51c9eefa22b74438356ede03bad9a
      size: 2976
    outs:
    - path: models
      md5: f05e4f884390b3242740e8a5f496137f.dir
      size: 309491
      nfiles: 2
  models_evaluation:
    cmd: python src/models/evaluate.py models/catboost.pkl models/ridge.pkl data/processed/train.pkl
      data/interim/target.pkl reports/evaluate/evaluation.json
    deps:
    - path: data/interim/target.pkl
      md5: 50e3c7c1bc1a90c06ccc2fe90526859d
      size: 16924
    - path: data/interim/target_val.pkl
      md5: 9f291e4b1e3ec573b5a4c556dae559c1
      size: 4889
    - path: data/processed/train.pkl
      md5: 735bb5f4f7b4f2c3e2a1daa378f506e3
      size: 173091
    - path: data/processed/train_val.pkl
      md5: 735bb5f4f7b4f2c3e2a1daa378f506e3
      size: 173091
    - path: models/catboost.pkl
      md5: bdda44b4903cabab5414761de982fa3a
      size: 306373
    - path: models/ridge.pkl
      md5: ee5f3d1502e6ea1a2b3983f9d6b82346
      size: 3118
    - path: src/models/evaluate.py
      md5: 6fb21418a52be49e4aca5e08f718b00b
      size: 3239
    outs:
    - path: reports/evaluate/evaluation.json
      md5: d2d76527a2646252deb5c874edfd8e29
      size: 307
  inference:
    cmd: python src/models/predict_model.py data/raw/test.csv models/catboost.pkl
      models/ridge.pkl reports/inference/
    deps:
    - path: data/raw/test.csv
      md5: a34d239835317e59b1b9f2fec27fa427
      size: 249580
    - path: models/catboost.pkl
      md5: bdda44b4903cabab5414761de982fa3a
      size: 306373
    - path: models/ridge.pkl
      md5: ee5f3d1502e6ea1a2b3983f9d6b82346
      size: 3118
    outs:
    - path: reports/inference
      md5: 804288561a52ad7b9e99ddba58391030.dir
      size: 32352
      nfiles: 2
