schema: '2.0'
stages:
  make_dataset:
    cmd: python src/data/make_dataset.py data/raw/train.csv data/interim/train.pkl
      data/interim/target.pkl data/interim/train_val.pkl data/interim/target_val.pkl
    deps:
    - path: data/raw/train.csv
      md5: 88f8b56af68bf8c7cf3fda9ae4ff02a8
      size: 400268
    - path: src/data/make_dataset.py
      md5: fda9e4dde33bc813e36d8d89291d89a2
      size: 2825
    outs:
    - path: data/interim/
      md5: 431947dc71d3f77187b6cec9c4c39ab8.dir
      size: 239631
      nfiles: 4
  features:
    cmd: python src/features/build_features.py data/interim/train.pkl data/interim/train_val.pkl
      data/processed/train.pkl data/processed/train_val.pkl
    deps:
    - path: data/interim/target.pkl
      md5: 50e3c7c1bc1a90c06ccc2fe90526859d
      size: 16924
    - path: data/interim/train.pkl
      md5: 735bb5f4f7b4f2c3e2a1daa378f506e3
      size: 173091
    - path: data/interim/train_val.pkl
      md5: 8b6fe2af0911ea9659f858518b9ba729
      size: 44727
    - path: src/features/build_features.py
      md5: d1c387ded06d6dc727f5c777f9e8079f
      size: 1838
    outs:
    - path: data/processed
      md5: 1fa9b5c2345b84e0a8c72f2a44dc4064.dir
      size: 233536
      nfiles: 2
  train_models:
    cmd: python src/models/train_model.py data/processed/train.pkl data/interim/target.pkl
      models
    deps:
    - path: data/interim/target.pkl
      md5: 50e3c7c1bc1a90c06ccc2fe90526859d
      size: 16924
    - path: data/processed/train.pkl
      md5: 6398133a36bbf8da4573b256401fa061
      size: 185535
    - path: src/models/train_model.py
      md5: 418987f0c3ba3b263dd59c97f8f1b116
      size: 2767
    outs:
    - path: models
      md5: 5278efe2e6e7621a985dd055f76f64f7.dir
      size: 6242528
      nfiles: 2
  models_evaluation:
    cmd: python src/models/evaluate.py models/catboost.pkl models/ridge.pkl data/processed/train_val.pkl
      data/interim/target_val.pkl reports/evaluate/evaluation.json
    deps:
    - path: data/interim/target.pkl
      md5: 50e3c7c1bc1a90c06ccc2fe90526859d
      size: 16924
    - path: data/interim/target_val.pkl
      md5: 9f291e4b1e3ec573b5a4c556dae559c1
      size: 4889
    - path: data/processed/train.pkl
      md5: 6398133a36bbf8da4573b256401fa061
      size: 185535
    - path: data/processed/train_val.pkl
      md5: 6787a92aacf2559afa894dca1f9aba4d
      size: 48001
    - path: models/catboost.pkl
      md5: 5936c0419053122d796712f6160d398f
      size: 6239260
    - path: models/ridge.pkl
      md5: 2e7941ca830f7bddd4f3f4a254c2ea08
      size: 3268
    - path: src/models/evaluate.py
      md5: 6fb21418a52be49e4aca5e08f718b00b
      size: 3239
    outs:
    - path: reports/evaluate/evaluation.json
      md5: 2d94e6035902ec10e525782fa3f6639e
      size: 309
  inference:
    cmd: python src/models/predict_model.py data/raw/test.csv models/catboost.pkl
      models/ridge.pkl reports/inference/
    deps:
    - path: data/raw/test.csv
      md5: a34d239835317e59b1b9f2fec27fa427
      size: 249580
    - path: models/catboost.pkl
      md5: 5936c0419053122d796712f6160d398f
      size: 6239260
    - path: models/ridge.pkl
      md5: 2e7941ca830f7bddd4f3f4a254c2ea08
      size: 3268
    outs:
    - path: reports/inference
      md5: f8723fc92d143792c02cd27b218ca543.dir
      size: 32352
      nfiles: 2
